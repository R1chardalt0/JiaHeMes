<UserControl x:Class="DeviceManage.CustomerControl.PageListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors" 
             xmlns:customerControl="clr-namespace:DeviceManage.CustomerControl"
             mc:Ignorable="d" 
             d:DesignHeight="70" d:DesignWidth="800">

    <Grid HorizontalAlignment="Center">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="auto" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <TextBlock Grid.Column="0" VerticalAlignment="Center" Foreground="Gray">
            <Run Text="共"/>
            <Run Text="{Binding Total}"/>
            <Run Text="条"/>
        </TextBlock>
        <TextBlock Grid.Column="1" VerticalAlignment="Center" Margin="10 0" Foreground="Gray">
            <Run Text="当前"/>
            <Run Text="{Binding PageIndex}" />
            <Run Text="/" />
            <Run Text="{Binding TotalPage}" />
            <Run Text="页"/>
        </TextBlock>

        <customerControl:CornerTextBox Grid.Column="2" Width="40" Height="20" 
                             HorizontalContentAlignment="Center"
                             Foreground="Gray"
                             VerticalAlignment="Center" Text="{Binding PageSize, UpdateSourceTrigger=LostFocus}">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="LostFocus">
                    <i:InvokeCommandAction Command="{Binding PageSizeChangedCommand}" />
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </customerControl:CornerTextBox>

        <ItemsControl Grid.Column="3" ItemsSource="{Binding Buttons}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal" Margin="10" VerticalAlignment="Center" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <customerControl:CornerButton Content="{Binding Content}" Margin="5"  Width="50"
                                        Tag="{Binding Content}" 
                                        Command="{Binding PageClickCommand}"
                                        CommandParameter="{Binding RelativeSource={RelativeSource Self}}"
                                        Style="{Binding ButtonStyle,Mode=TwoWay}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

    </Grid>

</UserControl>
